# ğŸ“Š Ù…Ø¯ÙŠÙˆÙ„ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª - Sales Module
## Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØªÙØµÙŠÙ„ÙŠ Ø§Ù„ÙƒØ§Ù…Ù„ ÙˆØ§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠ

---

## ğŸ“‘ Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙŠØ§Øª

1. [Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©](#overview)
2. [Ø§Ù„ÙƒÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©](#entities)
3. [Ø¯ÙˆØ±Ø© Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„ÙƒØ§Ù…Ù„Ø©](#workflow)
4. [Ø§Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ØªÙØµÙŠÙ„ÙŠØ©](#screens)
5. [Ø§Ù„ØªÙƒØ§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ù…Ø¯ÙŠÙˆÙ„Ø§Øª](#integration)
6. [Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø¹Ù…Ù„](#business-rules)
7. [Database Schema](#database)
8. [APIs Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©](#apis)
9. [Ø§Ù„Ø£Ù…Ø«Ù„Ø© Ø§Ù„Ø¹Ù…Ù„ÙŠØ©](#examples)

---

<a name="overview"></a>
## ğŸ¯ 1. Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø¯ÙŠÙˆÙ„

### Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
Ù…Ø¯ÙŠÙˆÙ„ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ù…Ø³Ø¤ÙˆÙ„ Ø¹Ù† Ø¥Ø¯Ø§Ø±Ø© Ø¯ÙˆØ±Ø© Ø§Ù„Ø¨ÙŠØ¹ Ø§Ù„ÙƒØ§Ù…Ù„Ø© Ù…Ù† Ù„Ø­Ø¸Ø© Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ø·Ù„Ø¨ Ø­ØªÙ‰ ØªØ­ØµÙŠÙ„ Ø§Ù„Ù…Ø¨Ù„ØºØŒ ÙˆÙŠØ´Ù…Ù„:
- Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ ÙˆØ§Ù„Ù…Ù†Ø§Ø¯ÙŠØ¨
- Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± ÙˆØ§Ù„Ø¹Ù‚ÙˆØ¯
- Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø¨ÙŠØ¹
- Ø§Ù„ÙÙˆØ§ØªÙŠØ± (Ù†Ù‚Ø¯ÙŠ/Ø¢Ø¬Ù„)
- Ø§Ù„Ù…Ø±ØªØ¬Ø¹Ø§Øª ÙˆØ§Ù„Ø®ØµÙˆÙ…Ø§Øª
- Ù†Ù‚Ø§Ø· Ø§Ù„Ø¨ÙŠØ¹ (POS)
- Ø§Ù„Ù…Ø·Ø§Ø¹Ù…
- Ø§Ù„Ù…ØªØ¬Ø± Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ
- Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„Ø£Ø³Ø¹Ø§Ø± ÙˆØ§Ù„Ø¹Ø±ÙˆØ¶

### Ø§Ù„Ù†Ø·Ø§Ù‚ (Scope)
- âœ… B2B Sales (Ù…Ø¨ÙŠØ¹Ø§Øª Ù„Ù„Ø´Ø±ÙƒØ§Øª)
- âœ… B2C Sales (Ù…Ø¨ÙŠØ¹Ø§Øª Ù„Ù„Ø£ÙØ±Ø§Ø¯)
- âœ… Retail (POS)
- âœ… Restaurant Management
- âœ… E-Commerce
- âœ… Multi-Currency & Multi-Language
- âœ… Multi-Branch & Multi-Company

---

<a name="entities"></a>
## ğŸ—‚ï¸ 2. Ø§Ù„ÙƒÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© (Core Entities)

### 2.1 Ù‡ÙŠÙƒÙ„ Ø§Ù„ÙƒÙŠØ§Ù†Ø§Øª

```
Sales Module
â”œâ”€â”€ Customers Management
â”‚   â”œâ”€â”€ Customer (Ø§Ù„Ø¹Ù…ÙŠÙ„)
â”‚   â”œâ”€â”€ Customer Category (ØªØµÙ†ÙŠÙ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡)
â”‚   â”œâ”€â”€ Customer Price List (Ù‚Ø§Ø¦Ù…Ø© Ø£Ø³Ø¹Ø§Ø± Ø®Ø§ØµØ©)
â”‚   â”œâ”€â”€ Customer Credit Limit (Ø­Ø¯ Ø§Ø¦ØªÙ…Ø§Ù†ÙŠ)
â”‚   â””â”€â”€ Customer Address (Ø¹Ù†Ø§ÙˆÙŠÙ† Ù…ØªØ¹Ø¯Ø¯Ø©)
â”‚
â”œâ”€â”€ Sales Team
â”‚   â”œâ”€â”€ Sales Representative (Ù…Ù†Ø¯ÙˆØ¨ Ù…Ø¨ÙŠØ¹Ø§Øª)
â”‚   â”œâ”€â”€ Sales Team (ÙØ±ÙŠÙ‚ Ù…Ø¨ÙŠØ¹Ø§Øª)
â”‚   â”œâ”€â”€ Sales Territory (Ù…Ù†Ø·Ù‚Ø© Ù…Ø¨ÙŠØ¹Ø§Øª)
â”‚   â””â”€â”€ Sales Target (Ø£Ù‡Ø¯Ø§Ù Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª)
â”‚
â”œâ”€â”€ Sales Documents
â”‚   â”œâ”€â”€ Quotation (Ø¹Ø±Ø¶ Ø§Ù„Ø³Ø¹Ø±)
â”‚   â”œâ”€â”€ Sales Order (Ø£Ù…Ø± Ø§Ù„Ø¨ÙŠØ¹)
â”‚   â”œâ”€â”€ Sales Invoice (ÙØ§ØªÙˆØ±Ø© Ø§Ù„Ø¨ÙŠØ¹)
â”‚   â”œâ”€â”€ Sales Return (Ù…Ø±ØªØ¬Ø¹ Ø§Ù„Ø¨ÙŠØ¹)
â”‚   â”œâ”€â”€ Delivery Note (Ø¥Ø°Ù† ØªØ³Ù„ÙŠÙ…)
â”‚   â””â”€â”€ Sales Contract (Ø¹Ù‚Ø¯ Ø§Ù„Ø¨ÙŠØ¹)
â”‚
â”œâ”€â”€ Pricing & Promotions
â”‚   â”œâ”€â”€ Price List (Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ø³Ø¹Ø§Ø±)
â”‚   â”œâ”€â”€ Price List Item (Ø¨Ù†Ø¯ Ø§Ù„Ø³Ø¹Ø±)
â”‚   â”œâ”€â”€ Promotion (Ø¹Ø±Ø¶ ØªØ±ÙˆÙŠØ¬ÙŠ)
â”‚   â”œâ”€â”€ Discount Rules (Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø®ØµÙ…)
â”‚   â””â”€â”€ Bundle Offer (Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø­Ø²Ù…)
â”‚
â”œâ”€â”€ Point of Sale
â”‚   â”œâ”€â”€ POS Profile (Ù…Ù„Ù Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨ÙŠØ¹)
â”‚   â”œâ”€â”€ POS Session (Ø¬Ù„Ø³Ø© Ø§Ù„Ø¨ÙŠØ¹)
â”‚   â”œâ”€â”€ POS Invoice (ÙØ§ØªÙˆØ±Ø© Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨ÙŠØ¹)
â”‚   â””â”€â”€ Cash Register (Ø§Ù„Ø®Ø²ÙŠÙ†Ø©)
â”‚
â””â”€â”€ Restaurant Management
    â”œâ”€â”€ Restaurant Table (Ø·Ø§ÙˆÙ„Ø©)
    â”œâ”€â”€ Restaurant Order (Ø·Ù„Ø¨ Ù…Ø·Ø¹Ù…)
    â”œâ”€â”€ Restaurant Menu (Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø·Ø¹Ø§Ù…)
    â””â”€â”€ Kitchen Order (Ø£Ù…Ø± Ø§Ù„Ù…Ø·Ø¨Ø®)
```

### 2.2 ØªÙØ§ØµÙŠÙ„ Ø§Ù„ÙƒÙŠØ§Ù†Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©

#### ğŸ“‹ Customer (Ø§Ù„Ø¹Ù…ÙŠÙ„)
```typescript
interface Customer {
  // Basic Info
  id: string;
  code: string; // ÙƒÙˆØ¯ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø£Ùˆ ÙŠØ¯ÙˆÙŠ
  nameAr: string;
  nameEn: string;
  type: 'Individual' | 'Company'; // ÙØ±Ø¯ Ø£Ùˆ Ø´Ø±ÙƒØ©
  category: CustomerCategory;
  
  // Classification
  customerGroup: string; // ØªØµÙ†ÙŠÙ Ø±Ø¦ÙŠØ³ÙŠ
  customerType: 'Retail' | 'Wholesale' | 'Distributor';
  priceList: PriceList; // Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
  
  // Contact Info
  phone: string;
  mobile: string;
  email: string;
  website?: string;
  
  // Tax & Legal
  taxNumber?: string; // Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø¶Ø±ÙŠØ¨ÙŠ
  commercialRegistration?: string;
  
  // Credit Management
  creditLimit: number;
  currentBalance: number; // Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ø­Ø§Ù„ÙŠ
  availableCredit: number; // Ø§Ù„Ø­Ø¯ Ø§Ù„Ù…ØªØ§Ø­
  paymentTerms: PaymentTerm; // Ø´Ø±ÙˆØ· Ø§Ù„Ø¯ÙØ¹
  
  // Sales Info
  salesRepresentative: SalesRep; // Ø§Ù„Ù…Ù†Ø¯ÙˆØ¨ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„
  territory: Territory; // Ø§Ù„Ù…Ù†Ø·Ù‚Ø©
  
  // Multiple Addresses
  addresses: Address[]; // Ø¹Ù†Ø§ÙˆÙŠÙ† Ù…ØªØ¹Ø¯Ø¯Ø© (ØªÙˆØµÙŠÙ„ØŒ ÙÙˆØ§ØªÙŠØ±ØŒ Ù…Ø±Ø§Ø³Ù„Ø§Øª)
  defaultBillingAddress: Address;
  defaultShippingAddress: Address;
  
  // Multi-Company
  companyId: string;
  branchId: string;
  
  // Status & Audit
  status: 'Active' | 'Inactive' | 'Blocked';
  isBlocked: boolean;
  blockReason?: string;
  createdAt: DateTime;
  createdBy: string;
  modifiedAt: DateTime;
  modifiedBy: string;
}
```

#### ğŸ“„ Sales Invoice (ÙØ§ØªÙˆØ±Ø© Ø§Ù„Ø¨ÙŠØ¹)
```typescript
interface SalesInvoice {
  // Header
  id: string;
  invoiceNumber: string; // Ø±Ù‚Ù… ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù…Ù† sequence
  invoiceDate: Date;
  dueDate: Date;
  
  // Customer Info
  customerId: string;
  customer: Customer;
  customerName: string; // cached Ù„Ù„Ø·Ø¨Ø§Ø¹Ø©
  billingAddress: Address;
  shippingAddress: Address;
  
  // Document Relations
  quotationId?: string; // Ù…Ù† Ø¹Ø±Ø¶ Ø³Ø¹Ø±
  salesOrderId?: string; // Ù…Ù† Ø£Ù…Ø± Ø¨ÙŠØ¹
  deliveryNoteId?: string; // Ù…Ù† Ø¥Ø°Ù† ØªØ³Ù„ÙŠÙ…
  
  // Invoice Type
  invoiceType: 'Cash' | 'Credit'; // Ù†Ù‚Ø¯ÙŠ Ø£Ùˆ Ø¢Ø¬Ù„
  isCashInvoice: boolean;
  
  // Sales Info
  salesRepresentative: SalesRep;
  territory: Territory;
  priceList: PriceList;
  
  // Items
  items: SalesInvoiceItem[];
  
  // Totals
  subtotal: number; // Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ù‚Ø¨Ù„ Ø§Ù„Ø¶Ø±ÙŠØ¨Ø© ÙˆØ§Ù„Ø®ØµÙ…
  discountType: 'Percentage' | 'Amount';
  discountValue: number;
  discountAmount: number; // Ù‚ÙŠÙ…Ø© Ø§Ù„Ø®ØµÙ…
  totalBeforeTax: number; // Ø¨Ø¹Ø¯ Ø§Ù„Ø®ØµÙ… Ù‚Ø¨Ù„ Ø§Ù„Ø¶Ø±ÙŠØ¨Ø©
  taxAmount: number; // Ù‚ÙŠÙ…Ø© Ø§Ù„Ø¶Ø±ÙŠØ¨Ø©
  totalAmount: number; // Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ
  
  // Payment Info
  paidAmount: number; // Ø§Ù„Ù…Ø¯ÙÙˆØ¹
  remainingAmount: number; // Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ
  paymentStatus: 'Unpaid' | 'PartiallyPaid' | 'Paid';
  
  // Inventory Effect
  affectsInventory: boolean; // ØªØ¤Ø«Ø± Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
  inventoryTransactionId?: string;
  warehouseId: string;
  
  // Accounting Effect
  affectsAccounting: boolean; // ØªØ¤Ø«Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª
  journalEntryId?: string; // Ø§Ù„Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ Ø§Ù„Ù…Ø±ØªØ¨Ø·
  accountingDate: Date;
  fiscalYear: string;
  
  // Multi-Currency
  currency: string;
  exchangeRate: number;
  totalInBaseCurrency: number;
  
  // Multi-Company
  companyId: string;
  branchId: string;
  
  // Notes & Attachments
  notes?: string;
  internalNotes?: string;
  attachments?: Attachment[];
  
  // Workflow
  status: 'Draft' | 'Submitted' | 'Approved' | 'Rejected' | 'Cancelled';
  approvedBy?: string;
  approvedAt?: DateTime;
  
  // Audit
  createdAt: DateTime;
  createdBy: string;
  modifiedAt: DateTime;
  modifiedBy: string;
  deletedAt?: DateTime; // soft delete
  deletedBy?: string;
}

interface SalesInvoiceItem {
  id: string;
  lineNumber: number; // ØªØ±ØªÙŠØ¨ Ø§Ù„Ø¨Ù†Ø¯
  
  // Product Info
  productId: string;
  product: Product;
  productCode: string;
  productName: string; // cached
  description?: string;
  
  // Quantity & Unit
  quantity: number;
  unitId: string;
  unit: Unit;
  
  // Pricing
  unitPrice: number; // Ø³Ø¹Ø± Ø§Ù„ÙˆØ­Ø¯Ø©
  discountType: 'Percentage' | 'Amount';
  discountValue: number;
  discountAmount: number;
  priceAfterDiscount: number;
  
  // Tax
  taxRate: number; // Ù†Ø³Ø¨Ø© Ø§Ù„Ø¶Ø±ÙŠØ¨Ø©
  taxAmount: number;
  
  // Totals
  totalBeforeTax: number;
  totalAmount: number; // Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø´Ø§Ù…Ù„ Ø§Ù„Ø¶Ø±ÙŠØ¨Ø©
  
  // Warehouse & Batch
  warehouseId: string;
  batchNumber?: string;
  serialNumber?: string;
  expiryDate?: Date;
  
  // Cost (Ù„Ù„ØªÙƒÙ„ÙØ© Ø§Ù„ÙØ¹Ù„ÙŠØ©)
  costPrice: number; // ØªÙƒÙ„ÙØ© Ø§Ù„ÙˆØ­Ø¯Ø©
  totalCost: number;
  profit: number; // Ø§Ù„Ø±Ø¨Ø­
  profitMargin: number; // Ù‡Ø§Ù…Ø´ Ø§Ù„Ø±Ø¨Ø­ %
}
```

#### ğŸ’° Quotation (Ø¹Ø±Ø¶ Ø§Ù„Ø³Ø¹Ø±)
```typescript
interface Quotation {
  id: string;
  quotationNumber: string;
  quotationDate: Date;
  validUntil: Date; // ØµØ§Ù„Ø­ Ø­ØªÙ‰
  
  // Customer Info
  customerId: string;
  customer: Customer;
  contactPerson?: string;
  
  // Items & Pricing
  items: QuotationItem[];
  priceList: PriceList;
  
  // Totals (Ù†ÙØ³ Ù‡ÙŠÙƒÙ„ Ø§Ù„ÙØ§ØªÙˆØ±Ø©)
  subtotal: number;
  discountAmount: number;
  taxAmount: number;
  totalAmount: number;
  
  // Terms & Conditions
  paymentTerms: string;
  deliveryTerms: string;
  termsAndConditions: string;
  
  // Status & Workflow
  status: 'Draft' | 'Sent' | 'Accepted' | 'Rejected' | 'Expired';
  sentDate?: Date;
  acceptedDate?: Date;
  rejectedDate?: Date;
  rejectionReason?: string;
  
  // Conversion
  convertedToSalesOrder: boolean;
  salesOrderId?: string;
  
  // Standard Fields
  companyId: string;
  branchId: string;
  salesRepresentative: SalesRep;
  createdAt: DateTime;
  createdBy: string;
}
```

#### ğŸ“¦ Sales Order (Ø£Ù…Ø± Ø§Ù„Ø¨ÙŠØ¹)
```typescript
interface SalesOrder {
  id: string;
  orderNumber: string;
  orderDate: Date;
  expectedDeliveryDate: Date;
  
  // Source
  quotationId?: string; // Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…Ù† Ø¹Ø±Ø¶ Ø³Ø¹Ø±
  
  // Customer
  customerId: string;
  customer: Customer;
  shippingAddress: Address;
  
  // Items
  items: SalesOrderItem[];
  
  // Delivery Status
  deliveryStatus: 'Pending' | 'PartiallyDelivered' | 'Delivered';
  deliveredQuantity: number;
  remainingQuantity: number;
  
  // Invoice Status
  invoiceStatus: 'NotInvoiced' | 'PartiallyInvoiced' | 'FullyInvoiced';
  invoicedAmount: number;
  remainingAmount: number;
  
  // Totals
  subtotal: number;
  discountAmount: number;
  taxAmount: number;
  totalAmount: number;
  
  // Status
  status: 'Draft' | 'Confirmed' | 'InProgress' | 'Completed' | 'Cancelled';
  
  // Multi-Company
  companyId: string;
  branchId: string;
  warehouseId: string;
  
  // Audit
  createdAt: DateTime;
  createdBy: string;
}
```

---

<a name="workflow"></a>
## ğŸ”„ 3. Ø¯ÙˆØ±Ø© Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„ÙƒØ§Ù…Ù„Ø© (Complete Workflow)

### 3.1 Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„ÙƒØ§Ù…Ù„ Ù„Ù„Ø¨ÙŠØ¹

```mermaid
graph TD
    A[ğŸ¯ Lead/Inquiry<br/>Ø§Ø³ØªÙØ³Ø§Ø±] --> B{ØªØ£Ù‡ÙŠÙ„ Ø§Ù„Ø¹Ù…ÙŠÙ„<br/>Qualify}
    B -->|Ù…Ø¤Ù‡Ù„| C[ğŸ“ Quotation<br/>Ø¹Ø±Ø¶ Ø§Ù„Ø³Ø¹Ø±]
    B -->|ØºÙŠØ± Ù…Ø¤Ù‡Ù„| Z[âŒ Ø±ÙØ¶]
    
    C --> D{Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ø¹Ø±Ø¶ØŸ}
    D -->|Ù†Ø¹Ù…| E[ğŸ“‹ Sales Order<br/>Ø£Ù…Ø± Ø§Ù„Ø¨ÙŠØ¹]
    D -->|Ù„Ø§| C1[ğŸ“ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¹Ø±Ø¶]
    C1 --> C
    D -->|Ø§Ù†ØªÙ‡Øª Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©| Z
    
    E --> F{Ù†ÙˆØ¹ Ø§Ù„Ø¨ÙŠØ¹ØŸ}
    
    F -->|Ø¨ÙŠØ¹ Ù…Ù† Ø§Ù„Ù…Ø®Ø²ÙˆÙ†| G[ğŸ“¦ Delivery Note<br/>Ø¥Ø°Ù† ØªØ³Ù„ÙŠÙ…]
    F -->|Ø¨ÙŠØ¹ Ù…Ø¨Ø§Ø´Ø±| H[ğŸ’µ Sales Invoice<br/>ÙØ§ØªÙˆØ±Ø© Ù…Ø¨Ø§Ø´Ø±Ø©]
    
    G --> H
    
    H --> I{Ù†ÙˆØ¹ Ø§Ù„Ø¯ÙØ¹ØŸ}
    I -->|Ù†Ù‚Ø¯ÙŠ| J[ğŸ’° Cash Payment<br/>Ø¯ÙØ¹ Ù†Ù‚Ø¯ÙŠ ÙÙˆØ±ÙŠ]
    I -->|Ø¢Ø¬Ù„| K[ğŸ“… Credit Invoice<br/>ÙØ§ØªÙˆØ±Ø© Ø¢Ø¬Ù„Ø©]
    
    J --> L[âœ… Ù…ØºÙ„Ù‚]
    K --> M[ğŸ’³ Payment Collection<br/>ØªØ­ØµÙŠÙ„]
    M --> N{Ù…Ø¯ÙÙˆØ¹ ÙƒØ§Ù…Ù„ØŸ}
    N -->|Ù†Ø¹Ù…| L
    N -->|Ù„Ø§| M
    
    H --> O{Ù…Ø±ØªØ¬Ø¹ØŸ}
    O -->|Ù†Ø¹Ù…| P[â†©ï¸ Sales Return<br/>Ù…Ø±ØªØ¬Ø¹]
    P --> Q[ğŸ’° Refund/Credit Note]
    Q --> L
    O -->|Ù„Ø§| L
    
    style A fill:#e1f5ff
    style C fill:#fff4e1
    style E fill:#ffe1f5
    style H fill:#e1ffe1
    style L fill:#90EE90
    style Z fill:#ffcccc
```

### 3.2 Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆÙ‡Ø§Øª Ø§Ù„Ø¨ÙŠØ¹ Ø§Ù„Ù…Ø®ØªÙ„ÙØ©

#### Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ 1: Ø§Ù„Ø¨ÙŠØ¹ Ø§Ù„ÙƒØ§Ù…Ù„ (Full Cycle)
```
1. Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ø±Ø¶ Ø³Ø¹Ø± â†’ 2. Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ø¹Ù…ÙŠÙ„ â†’ 3. Ø¥Ù†Ø´Ø§Ø¡ Ø£Ù…Ø± Ø¨ÙŠØ¹
â†’ 4. Ø¥Ø°Ù† ØªØ³Ù„ÙŠÙ… Ù…Ù† Ø§Ù„Ù…Ø®Ø²ÙˆÙ† â†’ 5. ÙØ§ØªÙˆØ±Ø© Ø¨ÙŠØ¹ Ø¢Ø¬Ù„Ø©
â†’ 6. ØªØ­ØµÙŠÙ„ Ø§Ù„Ù…Ø¨Ù„Øº â†’ 7. Ø¥ØºÙ„Ø§Ù‚
```

#### Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ 2: Ø§Ù„Ø¨ÙŠØ¹ Ø§Ù„Ø³Ø±ÙŠØ¹ (Quick Sale)
```
1. ÙØ§ØªÙˆØ±Ø© Ù†Ù‚Ø¯ÙŠØ© Ù…Ø¨Ø§Ø´Ø±Ø© â†’ 2. Ø¯ÙØ¹ ÙÙˆØ±ÙŠ â†’ 3. Ø¥ØºÙ„Ø§Ù‚
```

#### Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ 3: POS (Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨ÙŠØ¹)
```
1. Ø¥Ø¶Ø§ÙØ© Ø£ØµÙ†Ø§Ù â†’ 2. Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ â†’ 3. Ø¯ÙØ¹
â†’ 4. Ø·Ø¨Ø§Ø¹Ø© ÙØ§ØªÙˆØ±Ø© â†’ 5. Ø¥ØºÙ„Ø§Ù‚
```

#### Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ 4: Ø§Ù„Ù…Ø·Ø§Ø¹Ù…
```
1. Ø·Ù„Ø¨ Ø¹Ù„Ù‰ Ø§Ù„Ø·Ø§ÙˆÙ„Ø© â†’ 2. Ø¥Ø±Ø³Ø§Ù„ Ù„Ù„Ù…Ø·Ø¨Ø® â†’ 3. ØªØ¬Ù‡ÙŠØ²
â†’ 4. ØªÙ‚Ø¯ÙŠÙ… â†’ 5. Ø­Ø³Ø§Ø¨ ÙˆØ·Ø¨Ø§Ø¹Ø© ÙØ§ØªÙˆØ±Ø© â†’ 6. Ø¯ÙØ¹
```

### 3.3 Ø¯ÙˆØ±Ø© Ø§Ù„ØªØ­ØµÙŠÙ„ (Collection Cycle)

```mermaid
graph LR
    A[ÙØ§ØªÙˆØ±Ø© Ø¢Ø¬Ù„Ø©] --> B{Ù…ÙˆØ¹Ø¯ Ø§Ù„Ø§Ø³ØªØ­Ù‚Ø§Ù‚}
    B -->|Ù‚Ø¨Ù„ Ø§Ù„Ù…ÙˆØ¹Ø¯| C[Ù…ØªØ§Ø¨Ø¹Ø© Ø¹Ø§Ø¯ÙŠØ©]
    B -->|ÙÙŠ Ø§Ù„Ù…ÙˆØ¹Ø¯| D[ØªØ°ÙƒÙŠØ± Ø¨Ø§Ù„Ø¯ÙØ¹]
    B -->|Ø¨Ø¹Ø¯ Ø§Ù„Ù…ÙˆØ¹Ø¯| E[Ù…ØªØ£Ø®Ø±]
    
    E --> F[ØªØ°ÙƒÙŠØ± Ø£ÙˆÙ„]
    F --> G[ØªØ°ÙƒÙŠØ± Ø«Ø§Ù†ÙŠ]
    G --> H[ØªØ°ÙƒÙŠØ± Ù†Ù‡Ø§Ø¦ÙŠ]
    H --> I[Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„ØªØ¹Ø§Ù…Ù„]
    
    C --> J[ØªØ­ØµÙŠÙ„]
    D --> J
    F --> J
    G --> J
    H --> J
    
    J --> K[Ø¥Ù‚ÙØ§Ù„ Ø§Ù„ÙØ§ØªÙˆØ±Ø©]
    
    style E fill:#ffcccc
    style I fill:#ff0000
    style K fill:#90EE90
```

---

<a name="screens"></a>
## ğŸ–¥ï¸ 4. Ø§Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ØªÙØµÙŠÙ„ÙŠØ©

### 4.1 Ø´Ø§Ø´Ø© Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ (Customers List)

#### Ø§Ù„ØªØ®Ø·ÙŠØ· (Layout)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ§‘â€ğŸ’¼ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ (Customers)                   [+ Ø¬Ø¯ÙŠØ¯] [âš™ï¸] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ” Ø¨Ø­Ø«: [___________] ğŸ“‹ Ø§Ù„Ù†ÙˆØ¹: [Ø§Ù„ÙƒÙ„ â–¼] ğŸ¢ Ø§Ù„ÙØ±Ø¹: [Ø§Ù„ÙƒÙ„ â–¼] â”‚
â”‚  ğŸ’³ Ø§Ù„ØªØµÙ†ÙŠÙ: [Ø§Ù„ÙƒÙ„ â–¼] ğŸ“Š Ø§Ù„Ø­Ø§Ù„Ø©: [Ù†Ø´Ø· â–¼]                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â˜ Ø§Ù„ÙƒÙˆØ¯   Ø§Ù„Ø§Ø³Ù…      Ø§Ù„Ù†ÙˆØ¹    Ø§Ù„ØªØµÙ†ÙŠÙ   Ø§Ù„Ø±ØµÙŠØ¯   Ø§Ù„Ù…Ù†Ø¯ÙˆØ¨â”‚
â”‚ â˜ C0001  Ø´Ø±ÙƒØ© Ø§Ù„Ù†ÙˆØ±  Ø´Ø±ÙƒØ©    ØªØ¬Ø²Ø¦Ø©     15,000   Ø£Ø­Ù…Ø¯   â”‚
â”‚ â˜ C0002  Ù…Ø­Ù…Ø¯ Ø¹Ù„ÙŠ    ÙØ±Ø¯      Ø¬Ù…Ù„Ø©     -5,000   Ø³Ø¹ÙŠØ¯   â”‚
â”‚ â˜ C0003  Ø§Ù„ÙˆÙƒØ§Ù„Ø©     Ø´Ø±ÙƒØ©    Ù…ÙˆØ²Ø¹     25,000   Ø®Ø§Ù„Ø¯   â”‚
â”‚ ...                                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Ø¹Ø±Ø¶ 1-50 Ù…Ù† 1,250 Ø¹Ù…ÙŠÙ„    [â—€ï¸ Ø§Ù„Ø³Ø§Ø¨Ù‚] [Ø§Ù„ØªØ§Ù„ÙŠ â–¶ï¸]      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª (Features)
- âœ… **Multi-View**: List / Card / Kanban
- âœ… **Filters**: Ø¨Ø­Ø« Ù…ØªÙ‚Ø¯Ù…ØŒ ÙÙ„Ø§ØªØ± Ù…ØªØ¹Ø¯Ø¯Ø©ØŒ Ø­ÙØ¸ Ø§Ù„ÙÙ„Ø§ØªØ±
- âœ… **Bulk Actions**: ØªÙØ¹ÙŠÙ„/Ø¥ÙŠÙ‚Ø§Ù Ø¬Ù…Ø§Ø¹ÙŠØŒ ØªØµØ¯ÙŠØ± Excel
- âœ… **Quick Actions**: Ø¹Ø±Ø¶ Ø³Ø±ÙŠØ¹ØŒ ØªØ¹Ø¯ÙŠÙ„ Ø³Ø±ÙŠØ¹ØŒ Ø­Ø°Ù
- âœ… **Real-time Updates**: ØªØ­Ø¯ÙŠØ« ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù„Ø±ØµÙŠØ¯
- âœ… **Pagination**: Server-side pagination
- âœ… **Column Customization**: Ø¥Ø¸Ù‡Ø§Ø±/Ø¥Ø®ÙØ§Ø¡ Ø£Ø¹Ù…Ø¯Ø©

### 4.2 Ø´Ø§Ø´Ø© Ø§Ù„Ø¹Ù…ÙŠÙ„ (Customer Form)

#### Ø§Ù„Ø¨Ù†ÙŠØ© (Structure)
```typescript
interface CustomerFormStructure {
  toolbar: {
    actions: ['Save', 'SaveAndNew', 'Delete', 'Print', 'Duplicate'];
    navigation: ['First', 'Previous', 'Next', 'Last'];
  };
  
  tabs: [
    {
      name: 'basicInfo',
      label: 'Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø£Ø³Ø§Ø³ÙŠØ©',
      sections: [
        {
          name: 'generalInfo',
          fields: ['code', 'nameAr', 'nameEn', 'type', 'category']
        },
        {
          name: 'contactInfo',
          fields: ['phone', 'mobile', 'email', 'website']
        },
        {
          name: 'taxInfo',
          fields: ['taxNumber', 'commercialRegistration']
        }
      ]
    },
    {
      name: 'salesInfo',
      label: 'Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª',
      sections: [
        {
          name: 'salesTeam',
          fields: ['salesRep', 'territory', 'priceList']
        },
        {
          name: 'creditManagement',
          fields: ['creditLimit', 'paymentTerms', 'currentBalance']
        }
      ]
    },
    {
      name: 'addresses',
      label: 'Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ†',
      component: 'DataGrid',
      columns: ['type', 'address', 'city', 'country', 'isDefault']
    },
    {
      name: 'transactions',
      label: 'Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª',
      subTabs: [
        {name: 'invoices', label: 'Ø§Ù„ÙÙˆØ§ØªÙŠØ±', component: 'DataGrid'},
        {name: 'payments', label: 'Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª', component: 'DataGrid'},
        {name: 'quotations', label: 'Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø£Ø³Ø¹Ø§Ø±', component: 'DataGrid'}
      ]
    },
    {
      name: 'reports',
      label: 'Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±',
      sections: [
        {name: 'accountStatement', label: 'ÙƒØ´Ù Ø­Ø³Ø§Ø¨'},
        {name: 'salesAnalysis', label: 'ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª'},
        {name: 'ageingReport', label: 'ØªÙ‚Ø±ÙŠØ± Ø£Ø¹Ù…Ø§Ø± Ø§Ù„Ø¯ÙŠÙˆÙ†'}
      ]
    },
    {
      name: 'attachments',
      label: 'Ø§Ù„Ù…Ø±ÙÙ‚Ø§Øª',
      component: 'FileUpload'
    }
  ];
  
  statusBar: {
    fields: ['status', 'createdBy', 'createdAt', 'modifiedBy', 'modifiedAt']
  };
}
```

#### Ø§Ù„ØªØ®Ø·ÙŠØ· Ø§Ù„Ù…Ø±Ø¦ÙŠ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ğŸ’¾ Ø­ÙØ¸] [ğŸ—‘ï¸ Ø­Ø°Ù] [ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø©]    [â®ï¸ Ø£ÙˆÙ„][â—€ï¸ Ø³Ø§Ø¨Ù‚][â–¶ï¸ ØªØ§Ù„ÙŠ][â­ï¸ Ø¢Ø®Ø±] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø£Ø³Ø§Ø³ÙŠØ©] [Ù…Ø¨ÙŠØ¹Ø§Øª] [Ø¹Ù†Ø§ÙˆÙŠÙ†] [Ù…Ø¹Ø§Ù…Ù„Ø§Øª] [ØªÙ‚Ø§Ø±ÙŠØ±] [Ù…Ø±ÙÙ‚Ø§Øª] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  ğŸ“‹ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ø§Ù…Ø©                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Ø§Ù„ÙƒÙˆØ¯: [C0001_____] ğŸ”„                               â”‚   â”‚
â”‚  â”‚ Ø§Ù„Ø§Ø³Ù… (Ø¹Ø±Ø¨ÙŠ): [____________________________]        â”‚   â”‚
â”‚  â”‚ Ø§Ù„Ø§Ø³Ù… (Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ): [____________________________]      â”‚   â”‚
â”‚  â”‚ Ø§Ù„Ù†ÙˆØ¹: [â— ÙØ±Ø¯  â—‹ Ø´Ø±ÙƒØ©]                             â”‚   â”‚
â”‚  â”‚ Ø§Ù„ØªØµÙ†ÙŠÙ: [ØªØ¬Ø²Ø¦Ø© â–¼]                                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                              â”‚
â”‚  ğŸ“ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Ø§Ù„Ù‡Ø§ØªÙ: [____________]  Ø§Ù„Ù…Ø­Ù…ÙˆÙ„: [____________]     â”‚   â”‚
â”‚  â”‚ Ø§Ù„Ø¨Ø±ÙŠØ¯: [____________________________]              â”‚   â”‚
â”‚  â”‚ Ø§Ù„Ù…ÙˆÙ‚Ø¹: [____________________________]              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                              â”‚
â”‚  ğŸ’³ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¶Ø±ÙŠØ¨ÙŠØ©                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø¶Ø±ÙŠØ¨ÙŠ: [____________________________]       â”‚   â”‚
â”‚  â”‚ Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„ØªØ¬Ø§Ø±ÙŠ: [____________________________]       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸŸ¢ Ù†Ø´Ø· | Ø£Ù†Ø´Ø¦ Ø¨ÙˆØ§Ø³Ø·Ø©: Ø£Ø­Ù…Ø¯ | Ø¨ØªØ§Ø±ÙŠØ®: 2025-01-15 10:30     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.3 Ø´Ø§Ø´Ø© ÙØ§ØªÙˆØ±Ø© Ø§Ù„Ø¨ÙŠØ¹ (Sales Invoice Form)

#### Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„ÙƒØ§Ù…Ù„Ø©
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ğŸ’¾ Ø­ÙØ¸] [âœ… Ø§Ø¹ØªÙ…Ø§Ø¯] [ğŸ—‘ï¸ Ø­Ø°Ù] [ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø©] [ğŸ“§ Ø¥Ø±Ø³Ø§Ù„]           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Ø±Ø¦ÙŠØ³ÙŠØ©] [Ø§Ù„Ø£ØµÙ†Ø§Ù] [Ø§Ù„Ø¯ÙØ¹] [Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø©] [Ø§Ù„Ù…Ø®Ø²ÙˆÙ†] [Ù…Ø±ÙÙ‚Ø§Øª]       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  ğŸ“„ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ÙØ§ØªÙˆØ±Ø©                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Ø±Ù‚Ù… Ø§Ù„ÙØ§ØªÙˆØ±Ø©: [INV-2025-0001] ğŸ“… Ø§Ù„ØªØ§Ø±ÙŠØ®: [2025-01-15] â”‚
â”‚  â”‚ Ø§Ù„Ø¹Ù…ÙŠÙ„: [ğŸ” Ø§Ø¨Ø­Ø«...________] ğŸ†” C0001 - Ø´Ø±ÙƒØ© Ø§Ù„Ù†ÙˆØ±    â”‚
â”‚  â”‚ Ø§Ù„Ù…Ù†Ø¯ÙˆØ¨: [Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯ â–¼]  Ø§Ù„Ù…Ù†Ø·Ù‚Ø©: [Ø§Ù„Ø±ÙŠØ§Ø¶ â–¼]         â”‚
â”‚  â”‚ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ø³Ø¹Ø§Ø±: [ØªØ¬Ø²Ø¦Ø© â–¼]  Ø§Ù„Ø¹Ù…Ù„Ø©: [Ø±ÙŠØ§Ù„ â–¼] 1.00    â”‚
â”‚  â”‚ Ø§Ù„Ù†ÙˆØ¹: [â— Ù†Ù‚Ø¯ÙŠ  â—‹ Ø¢Ø¬Ù„]  Ø§Ù„Ø§Ø³ØªØ­Ù‚Ø§Ù‚: [2025-02-15]    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                              â”‚
â”‚  ğŸ“¦ Ø§Ù„Ø£ØµÙ†Ø§Ù                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ [+ Ø¥Ø¶Ø§ÙØ© ØµÙ†Ù]                                        â”‚   â”‚
â”‚  â”œâ”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚# â”‚ Ø§Ù„ØµÙ†Ù  â”‚ Ø§Ù„ÙƒÙ…ÙŠØ©â”‚ Ø§Ù„Ø³Ø¹Ø± â”‚ Ø§Ù„Ø®ØµÙ… â”‚ Ø§Ù„Ø¶Ø±ÙŠØ¨Ø©â”‚ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ â”‚   â”‚
â”‚  â”œâ”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚1 â”‚Ù…Ù†ØªØ¬ Ø£  â”‚  10  â”‚ 100  â”‚  10%  â”‚  15%  â”‚  1,035   â”‚   â”‚
â”‚  â”‚2 â”‚Ù…Ù†ØªØ¬ Ø¨  â”‚   5  â”‚ 200  â”‚   5%  â”‚  15%  â”‚  1,092.5 â”‚   â”‚
â”‚  â”‚  â”‚[+ ØµÙ†Ù] â”‚      â”‚       â”‚       â”‚       â”‚          â”‚   â”‚
â”‚  â””â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                              â”‚
â”‚  ğŸ’° Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ§Øª                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                          Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ù‚Ø¨Ù„ Ø§Ù„Ø®ØµÙ…: 1,500.00 â”‚   â”‚
â”‚  â”‚              Ø§Ù„Ø®ØµÙ… [10%â–¼] [150.00___]: - 150.00     â”‚   â”‚
â”‚  â”‚                          Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø¨Ø¹Ø¯ Ø§Ù„Ø®ØµÙ…: 1,350.00 â”‚   â”‚
â”‚  â”‚                     Ø§Ù„Ø¶Ø±ÙŠØ¨Ø© (15%): + 202.50         â”‚   â”‚
â”‚  â”‚             â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•    â”‚   â”‚
â”‚  â”‚                   Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ: 1,552.50 Ø±ÙŠØ§Ù„   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                              â”‚
â”‚  ğŸ’µ Ø§Ù„Ø¯ÙØ¹ (Ù†Ù‚Ø¯ÙŠ)                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø³ØªØ­Ù‚: 1,552.50  Ø§Ù„Ù…Ø¯ÙÙˆØ¹: [1,552.50____]  â”‚   â”‚
â”‚  â”‚ Ø§Ù„Ø¨Ø§Ù‚ÙŠ: 0.00  ğŸ“ Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹: [Ù†Ù‚Ø¯ÙŠ â–¼]             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“Š Ù…Ø³ÙˆØ¯Ø© | Ø£Ù†Ø´Ø¦: Ø£Ø­Ù…Ø¯ - 2025-01-15 10:30                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø®Ø§ØµØ©
1. **Auto-Complete Ù„Ù„Ø¹Ù…ÙŠÙ„**: Ø¨Ø­Ø« Ø°ÙƒÙŠ Ù…Ø¹ Ø¹Ø±Ø¶ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø³Ø±ÙŠØ¹Ø©
2. **Product Picker**: Ø§Ø®ØªÙŠØ§Ø± Ù…Ù†ØªØ¬ Ù…Ø¹ Ø¹Ø±Ø¶:
   - Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ù…ØªØ§Ø­Ø©
   - Ø§Ù„Ø³Ø¹Ø± Ø­Ø³Ø¨ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ø³Ø¹Ø§Ø±
   - Ø§Ù„ØµÙˆØ±Ø©
   - Ø§Ù„Ù…ÙˆØ§ØµÙØ§Øª
3. **Barcode Scanner**: Ù…Ø³Ø­ Ø¨Ø§Ø±ÙƒÙˆØ¯ Ù„Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬
4. **Real-time Calculations**: Ø­Ø³Ø§Ø¨ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ§Øª
5. **Discount Calculator**: Ø­Ø§Ø³Ø¨Ø© Ø®ØµÙ… Ù…Ø±Ù†Ø© (Ù†Ø³Ø¨Ø© Ø£Ùˆ Ù…Ø¨Ù„Øº)
6. **Tax Management**: Ø¶Ø±Ø§Ø¦Ø¨ Ù…ØªØ¹Ø¯Ø¯Ø© Ø­Ø³Ø¨ Ø§Ù„Ù…Ù†ØªØ¬
7. **Payment Methods**: Ø·Ø±Ù‚ Ø¯ÙØ¹ Ù…ØªØ¹Ø¯Ø¯Ø© Ù„Ù„ÙØ§ØªÙˆØ±Ø© Ø§Ù„ÙˆØ§Ø­Ø¯Ø©
8. **Print Templates**: Ù‚ÙˆØ§Ù„Ø¨ Ø·Ø¨Ø§Ø¹Ø© Ù…ØªØ¹Ø¯Ø¯Ø©

### 4.4 Ø´Ø§Ø´Ø© Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨ÙŠØ¹ (POS Screen)

#### Ø§Ù„ØªØµÙ…ÙŠÙ…
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸª Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨ÙŠØ¹ - Ø§Ù„ÙØ±Ø¹ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ         Ø§Ù„Ø¬Ù„Ø³Ø©: #45  [âœ• Ø¥ØºÙ„Ø§Ù‚] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  ğŸ” [Ø¨Ø­Ø« Ø£Ùˆ Ù…Ø³Ø­ Ø¨Ø§Ø±ÙƒÙˆØ¯...]   â”‚  â”‚  ğŸ“‹ Ø§Ù„ÙØ§ØªÙˆØ±Ø©          â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚  ğŸ“ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…                  â”‚  â”‚ Ø§Ù„Ø¹Ù…ÙŠÙ„: [ğŸ” Ø§Ø¨Ø­Ø«...]  â”‚ â”‚
â”‚  â”‚  [Ø§Ù„ÙƒÙ„] [Ø·Ø¹Ø§Ù…] [Ù…Ø´Ø±ÙˆØ¨Ø§Øª]    â”‚  â”‚ Ø§Ù„Ù…Ù†Ø¯ÙˆØ¨: Ø£Ø­Ù…Ø¯         â”‚ â”‚
â”‚  â”‚  [Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª] [Ù…Ù„Ø§Ø¨Ø³]...    â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚ # Ø§Ù„ØµÙ†Ù    Ø§Ù„ÙƒÙ… Ø§Ù„Ø³Ø¹Ø±  â”‚ â”‚
â”‚  â”‚                             â”‚  â”‚ 1 Ù…Ù†ØªØ¬ Ø£    2  200.00 â”‚ â”‚
â”‚  â”‚  [Ù…Ù†ØªØ¬ Ø£]  [Ù…Ù†ØªØ¬ Ø¨]        â”‚  â”‚ 2 Ù…Ù†ØªØ¬ Ø¨    1  150.00 â”‚ â”‚
â”‚  â”‚   100 Ø±.Ø³   150 Ø±.Ø³        â”‚  â”‚ 3 Ù…Ù†ØªØ¬ Ø¬    3  300.00 â”‚ â”‚
â”‚  â”‚                             â”‚  â”‚                        â”‚ â”‚
â”‚  â”‚  [Ù…Ù†ØªØ¬ Ø¬]  [Ù…Ù†ØªØ¬ Ø¯]        â”‚  â”‚ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹:      650.00  â”‚ â”‚
â”‚  â”‚   200 Ø±.Ø³   180 Ø±.Ø³        â”‚  â”‚ Ø§Ù„Ø®ØµÙ…:        -50.00  â”‚ â”‚
â”‚  â”‚                             â”‚  â”‚ Ø§Ù„Ø¶Ø±ÙŠØ¨Ø©(15%):  90.00  â”‚ â”‚
â”‚  â”‚  [Ù…Ù†ØªØ¬ Ù‡Ù€] [Ù…Ù†ØªØ¬ Ùˆ]        â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ â”‚
â”‚  â”‚   120 Ø±.Ø³   90 Ø±.Ø³         â”‚  â”‚ ğŸŸ¢ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ:  690.00  â”‚ â”‚
â”‚  â”‚                             â”‚  â”‚                        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚                                   â”‚ [ğŸ—‘ï¸ Ù…Ø³Ø­] [ğŸ’¾ ØªØ¹Ù„ÙŠÙ‚]   â”‚ â”‚
â”‚  [ğŸ”„ ÙÙˆØ§ØªÙŠØ± Ù…Ø¹Ù„Ù‚Ø©: 3]            â”‚ [ğŸ’³ Ø¯ÙØ¹]              â”‚ â”‚
â”‚  [ğŸ“Š Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ø¬Ù„Ø³Ø©]               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Ø®ØµØ§Ø¦Øµ POS
- âš¡ **Ø³Ø±Ø¹Ø© Ø¹Ø§Ù„ÙŠØ©**: Ø§Ø³ØªØ¬Ø§Ø¨Ø© ÙÙˆØ±ÙŠØ©
- ğŸ“± **Touch Friendly**: Ù…Ù†Ø§Ø³Ø¨ Ù„Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„Ù„Ù…Ø³
- ğŸ”Š **Sound Feedback**: ØµÙˆØª Ø¹Ù†Ø¯ Ø§Ù„Ù…Ø³Ø­
- ğŸ¨ **Visual Feedback**: ØªØ£Ø«ÙŠØ±Ø§Øª Ø¨ØµØ±ÙŠØ©
- âŒ¨ï¸ **Keyboard Shortcuts**: Ø§Ø®ØªØµØ§Ø±Ø§Øª Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­
- ğŸ’¾ **Auto Save**: Ø­ÙØ¸ ØªÙ„Ù‚Ø§Ø¦ÙŠ
- ğŸ“´ **Offline Mode**: ÙŠØ¹Ù…Ù„ Ø¨Ø¯ÙˆÙ† Ø¥Ù†ØªØ±Ù†Øª
- ğŸ–¨ï¸ **Fast Print**: Ø·Ø¨Ø§Ø¹Ø© Ø³Ø±ÙŠØ¹Ø©

---

<a name="integration"></a>
## ğŸ”— 5. Ø§Ù„ØªÙƒØ§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ù…Ø¯ÙŠÙˆÙ„Ø§Øª Ø§Ù„Ø£Ø®Ø±Ù‰

### 5.1 Ø®Ø±ÙŠØ·Ø© Ø§Ù„ØªÙƒØ§Ù…Ù„

```mermaid
graph TD
    Sales[ğŸ“Š Sales Module] --> |ØªØ£Ø«ÙŠØ± Ø¹Ù„Ù‰ Ø§Ù„Ø±ØµÙŠØ¯| Accounts[ğŸ’° Accounting]
    Sales --> |Ø®ØµÙ… ÙƒÙ…ÙŠØ©| Inventory[ğŸ“¦ Inventory]
    Sales --> |ØªØ³Ø¬ÙŠÙ„ ØªÙƒÙ„ÙØ©| Costing[ğŸ’µ Costing Service]
    Sales --> |Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„| CRM[ğŸ‘¥ CRM/Customers]
    Sales --> |Ø¹Ù…ÙˆÙ„Ø§Øª| HR[ğŸ‘” HR Module]
    Sales --> |Ø·Ù„Ø¨Ø§Øª ØªÙˆØ±ÙŠØ¯| Purchasing[ğŸ›’ Purchasing]
    Sales --> |Ù…Ø´Ø§Ø±ÙŠØ¹| Projects[ğŸ—ï¸ Projects]
    Sales --> |ØµÙŠØ§Ù†Ø©| Maintenance[ğŸ”§ Maintenance]
    
    style Sales fill:#4CAF50
    style Accounts fill:#FF9800
    style Inventory fill:#2196F3
```

### 5.2 Ù†Ù‚Ø§Ø· Ø§Ù„ØªÙƒØ§Ù…Ù„ Ø§Ù„ØªÙØµÙŠÙ„ÙŠØ©

#### 5.2.1 Ø§Ù„ØªÙƒØ§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª (Accounting)

**Ø¹Ù†Ø¯ Ø¥Ù†Ø´Ø§Ø¡ ÙØ§ØªÙˆØ±Ø© Ø¨ÙŠØ¹:**
```typescript
// Ø§Ù„Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
interface JournalEntry {
  date: Date;
  description: "ÙØ§ØªÙˆØ±Ø© Ø¨ÙŠØ¹ Ø±Ù‚Ù… INV-2025-0001";
  lines: [
    {
      account: "Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ - Ø´Ø±ÙƒØ© Ø§Ù„Ù†ÙˆØ±", // Ù…Ù† Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª
      debit: 1552.50,
      credit: 0,
      costCenter: "ÙØ±Ø¹ Ø§Ù„Ø±ÙŠØ§Ø¶",
      reference: "INV-2025-0001"
    },
    {
      account: "Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª",
      debit: 0,
      credit: 1350.00,
      costCenter: "ÙØ±Ø¹ Ø§Ù„Ø±ÙŠØ§Ø¶"
    },
    {
      account: "Ø¶Ø±ÙŠØ¨Ø© Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„Ù…Ø³ØªØ­Ù‚Ø©",
      debit: 0,
      credit: 202.50,
      costCenter: "ÙØ±Ø¹ Ø§Ù„Ø±ÙŠØ§Ø¶"
    }
  ]
}
```

**Ù†Ù‚Ø§Ø· Ø§Ù„ØªÙƒØ§Ù…Ù„:**
- âœ… Ø¥Ù†Ø´Ø§Ø¡ Ù‚ÙŠØ¯ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¹Ù†Ø¯ Ø§Ø¹ØªÙ…Ø§Ø¯ Ø§Ù„ÙØ§ØªÙˆØ±Ø©
- âœ… ØªØ­Ø¯ÙŠØ« Ø±ØµÙŠØ¯ Ø§Ù„Ø¹Ù…ÙŠÙ„ ÙÙŠ Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª
- âœ… ØªØ³Ø¬ÙŠÙ„ Ø¶Ø±ÙŠØ¨Ø© Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø¶Ø§ÙØ©
- âœ… ØªÙˆØ²ÙŠØ¹ Ø¹Ù„Ù‰ Ù…Ø±Ø§ÙƒØ² Ø§Ù„ØªÙƒÙ„ÙØ©
- âœ… Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ù‚ÙŠØ¯ Ø¹Ù†Ø¯ Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ÙØ§ØªÙˆØ±Ø©

#### 5.2.2 Ø§Ù„ØªÙƒØ§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ù…Ø®Ø²ÙˆÙ† (Inventory)

**Ø¹Ù†Ø¯ Ø¥Ù†Ø´Ø§Ø¡ ÙØ§ØªÙˆØ±Ø© Ø¨ÙŠØ¹:**
```typescript
interface InventoryTransaction {
  transactionType: "Sales Invoice";
  transactionNumber: "INV-2025-0001";
  date: Date;
  warehouse: "Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ";
  items: [
    {
      product: "Ù…Ù†ØªØ¬ Ø£",
      quantity: -10, // Ø³Ø§Ù„Ø¨ Ù„Ù„Ø®Ø±ÙˆØ¬
      unitCost: 80, // Ø§Ù„ØªÙƒÙ„ÙØ© Ø§Ù„ÙØ¹Ù„ÙŠØ©
      totalCost: 800,
      batchNumber: "BATCH-001",
      serialNumbers: ["SN001", "SN002", ...],
      movementType: "Out"
    }
  ];
  affectsStock: true;
  status: "Posted";
}
```

**Ù†Ù‚Ø§Ø· Ø§Ù„ØªÙƒØ§Ù…Ù„:**
- âœ… Ø®ØµÙ… Ø§Ù„ÙƒÙ…ÙŠØ© Ù…Ù† Ø§Ù„Ù…Ø®Ø²ÙˆÙ† ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
- âœ… ØªØªØ¨Ø¹ Ø§Ù„Ø¯ÙØ¹Ø§Øª (Batches)
- âœ… ØªØªØ¨Ø¹ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„ØªØ³Ù„Ø³Ù„ÙŠØ© (Serial Numbers)
- âœ… ØªØ­Ø¯ÙŠØ« Ù…ØªÙˆØ³Ø· Ø§Ù„ØªÙƒÙ„ÙØ©
- âœ… ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ù…ØªØ§Ø­Ø© Ù„Ù„Ø¨ÙŠØ¹

#### 5.2.3 Ø§Ù„ØªÙƒØ§Ù…Ù„ Ù…Ø¹ Ø®Ø¯Ù…Ø© Ø§Ù„ØªÙƒÙ„ÙØ© (Costing Service)

```typescript
// Ø­Ø³Ø§Ø¨ Ø§Ù„ØªÙƒÙ„ÙØ© ÙˆØ§Ù„Ø±Ø¨Ø­
interface CostCalculation {
  invoiceId: "INV-2025-0001";
  items: [
    {
      product: "Ù…Ù†ØªØ¬ Ø£",
      quantity: 10,
      sellingPrice: 100,
      totalSales: 1000,
      costPrice: 80, // Ù…Ù† Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
      totalCost: 800,
      profit: 200,
      profitMargin: 20 // %
    }
  ];
  totalSales: 1552.50;
  totalCost: 1200;
  grossProfit: 352.50;
  grossProfitMargin: 22.7; // %
}
```

**Ù†Ù‚Ø§Ø· Ø§Ù„ØªÙƒØ§Ù…Ù„:**
- âœ… Ø­Ø³Ø§Ø¨ Ø§Ù„ØªÙƒÙ„ÙØ© Ø§Ù„ÙØ¹Ù„ÙŠØ© Ù…Ù† Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
- âœ… Ø­Ø³Ø§Ø¨ Ø§Ù„Ø±Ø¨Ø­ Ù„ÙƒÙ„ ØµÙ†Ù
- âœ… Ø­Ø³Ø§Ø¨ Ù‡Ø§Ù…Ø´ Ø§Ù„Ø±Ø¨Ø­
- âœ… ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø±Ø¨Ø­ÙŠØ©

#### 5.2.4 Ø§Ù„ØªÙƒØ§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ Ø§Ù„Ø¨Ø´Ø±ÙŠØ© (HR)

**Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¹Ù…ÙˆÙ„Ø§Øª:**
```typescript
interface CommissionCalculation {
  salesRepId: "REP-001";
  salesRepName: "Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯";
  period: "2025-01";
  invoices: [
    {
      invoiceNumber: "INV-2025-0001",
      amount: 1552.50,
      commissionRate: 2, // %
      commissionAmount: 31.05
    }
  ];
  totalSales: 50000;
  totalCommission: 1000;
  status: "Calculated";
  paidInPayroll: false;
}
```

**Ù†Ù‚Ø§Ø· Ø§Ù„ØªÙƒØ§Ù…Ù„:**
- âœ… Ø­Ø³Ø§Ø¨ Ø¹Ù…ÙˆÙ„Ø§Øª Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
- âœ… Ø±Ø¨Ø· Ù…Ø¹ Ø§Ù„Ù…Ø±ØªØ¨Ø§Øª
- âœ… ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø£Ø¯Ø§Ø¡
- âœ… Ø£Ù‡Ø¯Ø§Ù Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª

#### 5.2.5 Ø§Ù„ØªÙƒØ§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª (Purchasing)

**Ø¥Ù†Ø´Ø§Ø¡ Ø·Ù„Ø¨ Ø´Ø±Ø§Ø¡ ØªÙ„Ù‚Ø§Ø¦ÙŠ:**
```typescript
// Ø¹Ù†Ø¯ Ù†ÙØ§Ø° Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
interface AutoPurchaseRequest {
  triggeredBy: "Sales Order SO-2025-0001";
  product: "Ù…Ù†ØªØ¬ Ø£";
  currentStock: 5;
  reorderLevel: 10;
  orderQuantity: 50; // Ø­Ø³Ø¨ EOQ
  supplier: "Ø§Ù„Ù…ÙˆØ±Ø¯ Ø§Ù„Ù…ÙØ¶Ù„";
  status: "Draft";
}
```

**Ù†Ù‚Ø§Ø· Ø§Ù„ØªÙƒØ§Ù…Ù„:**
- âœ… Ø¥Ù†Ø´Ø§Ø¡ Ø·Ù„Ø¨ Ø´Ø±Ø§Ø¡ Ø¹Ù†Ø¯ Ø§Ù„Ù†ÙØ§Ø°
- âœ… ØªØªØ¨Ø¹ Ø§Ù„Ø¹Ø¬Ø² ÙÙŠ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
- âœ… ØªÙˆÙ‚Ø¹Ø§Øª Ø§Ù„Ø·Ù„Ø¨

### 5.3 Ù…ØµÙÙˆÙØ© Ø§Ù„ØªÙƒØ§Ù…Ù„

| Ø§Ù„Ø­Ø¯Ø« | Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø© | Ø§Ù„Ù…Ø®Ø²ÙˆÙ† | Ø§Ù„ØªÙƒÙ„ÙØ© | Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ Ø§Ù„Ø¨Ø´Ø±ÙŠØ© | Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª |
|-------|----------|---------|---------|----------------|-----------|
| Ø¥Ù†Ø´Ø§Ø¡ ÙØ§ØªÙˆØ±Ø© | âœ… Ù‚ÙŠØ¯ | âœ… Ø®ØµÙ… | âœ… Ø­Ø³Ø§Ø¨ | âœ… Ø¹Ù…ÙˆÙ„Ø© | - |
| Ø¥Ù„ØºØ§Ø¡ ÙØ§ØªÙˆØ±Ø© | âœ… Ø¹ÙƒØ³ Ù‚ÙŠØ¯ | âœ… Ø¥Ø±Ø¬Ø§Ø¹ | âœ… Ø¥Ù„ØºØ§Ø¡ | âœ… Ø¥Ù„ØºØ§Ø¡ Ø¹Ù…ÙˆÙ„Ø© | - |
| Ù…Ø±ØªØ¬Ø¹ Ø¨ÙŠØ¹ | âœ… Ù‚ÙŠØ¯ Ù…Ø¹Ø§ÙƒØ³ | âœ… Ø¥Ø±Ø¬Ø§Ø¹ | âœ… ØªØ¹Ø¯ÙŠÙ„ | - | - |
| Ø¯ÙØ¹Ø© Ù†Ù‚Ø¯ÙŠØ© | âœ… Ù‚ÙŠØ¯ Ø§Ø³ØªÙ„Ø§Ù… | - | - | - | - |
| Ø£Ù…Ø± Ø¨ÙŠØ¹ | - | âœ… Ø­Ø¬Ø² | - | - | âœ… Ø·Ù„Ø¨ Ø´Ø±Ø§Ø¡ |

---

<a name="business-rules"></a>
## âš–ï¸ 6. Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø¹Ù…Ù„ (Business Rules)

### 6.1 Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø¹Ù…ÙŠÙ„

```typescript
interface CustomerValidationRules {
  // Ù‚ÙˆØ§Ø¹Ø¯ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¹Ù…ÙŠÙ„
  creation: {
    requiredFields: ['nameAr', 'nameEn', 'type', 'category'];
    uniqueFields: ['code', 'taxNumber', 'email'];
    codeGeneration: 'Auto' | 'Manual';
    codePrefix: 'C';
    codeLength: 6;
  };
  
  // Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø­Ø¯ Ø§Ù„Ø§Ø¦ØªÙ…Ø§Ù†ÙŠ
  creditLimit: {
    checkCreditLimit: true;
    allowExceed: false; // Ø£Ùˆ true Ù…Ø¹ Ù…ÙˆØ§ÙÙ‚Ø©
    approvalRequired: true; // Ø¹Ù†Ø¯ Ø§Ù„ØªØ¬Ø§ÙˆØ²
    approverRole: 'Sales Manager';
    warningAt: 80; // % ØªØ­Ø°ÙŠØ± Ø¹Ù†Ø¯ 80%
  };
  
  // Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø­Ø¸Ø±
  blocking: {
    autoBlockWhen: {
      overdueInvoices: 3; // Ø¹Ø¯Ø¯ Ø§Ù„ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ù…ØªØ£Ø®Ø±Ø©
      overdueDays: 30; // Ø¹Ø¯Ø¯ Ø§Ù„Ø£ÙŠØ§Ù…
      overdueAmount: 10000; // Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…ØªØ£Ø®Ø±
    };
    blockActions: ['NewInvoice', 'NewOrder'];
    allowActions: ['ViewStatement', 'MakePayment'];
  };
  
  // Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø®ØµÙ…
  discount: {
    maxDiscountPercent: 10; // %
    requireApprovalAbove: 10; // %
    approverRole: 'Sales Manager';
    discountAuthority: {
      'SalesRep': 5,
      'SalesSupervisor': 10,
      'SalesManager': 20,
      'GeneralManager': 100
    };
  };
}
```

### 6.2 Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„ÙØ§ØªÙˆØ±Ø©

```typescript
interface InvoiceBusinessRules {
  // Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡
  creation: {
    requiredFields: ['customer', 'date', 'items'];
    minimumItems: 1;
    allowFutureDate: false;
    allowBackDate: true;
    backDateDays: 30;
    autoNumbering: true;
    numberFormat: 'INV-{YYYY}-{0000}';
  };
  
  // Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø£ØµÙ†Ø§Ù
  items: {
    allowNegativeQuantity: false;
    allowZeroPrice: false;
    requireWarehouse: true;
    checkAvailability: true;
    allowOverselling: false; // Ø£Ùˆ true Ù…Ø¹ ØªØ­Ø°ÙŠØ±
    maxDiscountPerItem: 20; // %
    requireCostCenter: true;
  };
  
  // Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯
  approval: {
    requireApproval: true;
    approvalWorkflow: [
      {
        condition: 'amount > 10000',
        approver: 'Sales Manager'
      },
      {
        condition: 'amount > 50000',
        approver: 'General Manager'
      }
    ];
    allowSelfApproval: false;
  };
  
  // Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ ÙˆØ§Ù„Ø­Ø°Ù
  modification: {
    allowEditAfterApproval: false;
    allowDeleteAfterApproval: false;
    allowCancelAfterPayment: false;
    requireReasonForCancel: true;
  };
  
  // Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø©
  accounting: {
    autoPostJournalEntry: true;
    postOnApproval: true; // Ø£Ùˆ Ø¹Ù†Ø¯ Ø§Ù„Ø­ÙØ¸
    requireFiscalYear: true;
    blockPreviousPeriod: true;
  };
  
  // Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø¶Ø±ÙŠØ¨Ø©
  tax: {
    includeTax: true;
    taxRate: 15; // %
    taxAccount: 'VAT Payable';
    showTaxBreakdown: true;
    exemptCategories: ['Food', 'Medicine']; // Ù…Ø¹ÙÙ‰ Ù…Ù† Ø§Ù„Ø¶Ø±ÙŠØ¨Ø©
  };
}
```

### 6.3 Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø¯ÙØ¹

```typescript
interface PaymentRules {
  // Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ù†Ù‚Ø¯ÙŠ
  cashPayment: {
    requireCashAccount: true;
    defaultCashAccount: 'Cash in Hand';
    allowPartialPayment: true;
    allowOverPayment: true; // Ø±ØµÙŠØ¯ Ù„Ù„Ø¹Ù…ÙŠÙ„
  };
  
  // Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ø¢Ø¬Ù„
  creditPayment: {
    checkCreditLimit: true;
    requireDueDate: true;
    defaultPaymentTerms: 30; // days
    allowEarlyPaymentDiscount: true;
    earlyPaymentDiscountRate: 2; // %
    earlyPaymentDays: 10;
  };
  
  // Ù‚ÙˆØ§Ø¹Ø¯ Ø·Ø±Ù‚ Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ù…ØªØ¹Ø¯Ø¯Ø©
  multiplePayments: {
    allowMultipleMethods: true;
    maxPaymentMethods: 3;
    requireBankDetails: ['BankTransfer', 'Cheque'];
    validateCheque: true;
  };
}
```

### 6.4 Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ù…Ø±ØªØ¬Ø¹Ø§Øª

```typescript
interface ReturnRules {
  // Ù‚ÙˆØ§Ø¹Ø¯ Ø¹Ø§Ù…Ø©
  general: {
    allowReturnAfterDays: 30;
    requireOriginalInvoice: true;
    requireReason: true;
    allowPartialReturn: true;
    maxReturnQuantity: 'original'; // Ù„Ø§ ÙŠØªØ¬Ø§ÙˆØ² Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ø£ØµÙ„ÙŠØ©
  };
  
  // Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
  inventory: {
    returnToStock: true;
    requireQualityCheck: true;
    allowDamagedReturn: false;
    separateDamagedLocation: true;
  };
  
  // Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø§Ø³ØªØ±Ø¯Ø§Ø¯
  refund: {
    allowCashRefund: true;
    allowCreditNote: true;
    defaultRefundMethod: 'CreditNote';
    requireManagerApproval: true;
    refundProcessingDays: 7;
  };
}
```

---

<a name="database"></a>
## ğŸ—„ï¸ 7. Database Schema

### 7.1 Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡

```sql
-- Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
CREATE TABLE Customers (
    CustomerId UNIQUEIDENTIFIER PRIMARY KEY DEFAULT NEWID(),
    Code NVARCHAR(20) NOT NULL UNIQUE,
    NameAr NVARCHAR(200) NOT NULL,
    NameEn NVARCHAR(200),
    Type NVARCHAR(20) NOT NULL, -- Individual, Company
    CategoryId UNIQUEIDENTIFIER,
    
    -- Contact Info
    Phone NVARCHAR(20),
    Mobile NVARCHAR(20),
    Email NVARCHAR(100),
    Website NVARCHAR(200),
    
    -- Tax Info
    TaxNumber NVARCHAR(50),
    CommercialRegistration NVARCHAR(50),
    
    -- Credit Management
    CreditLimit DECIMAL(18,2) DEFAULT 0,
    CurrentBalance DECIMAL(18,2) DEFAULT 0,
    PaymentTermId UNIQUEIDENTIFIER,
    
    -- Sales Info
    SalesRepresentativeId UNIQUEIDENTIFIER,
    TerritoryId UNIQUEIDENTIFIER,
    PriceListId UNIQUEIDENTIFIER,
    
    -- Multi-Company
    CompanyId UNIQUEIDENTIFIER NOT NULL,
    BranchId UNIQUEIDENTIFIER,
    
    -- Status
    Status NVARCHAR(20) DEFAULT 'Active',
    IsBlocked BIT DEFAULT 0,
    BlockReason NVARCHAR(500),
    
    -- Audit
    CreatedAt DATETIME2 DEFAULT GETUTCDATE(),
    CreatedBy UNIQUEIDENTIFIER,
    ModifiedAt DATETIME2,
    ModifiedBy UNIQUEIDENTIFIER,
    DeletedAt DATETIME2,
    DeletedBy UNIQUEIDENTIFIER,
    
    CONSTRAINT FK_Customer_Category FOREIGN KEY (CategoryId) 
        REFERENCES CustomerCategories(CategoryId),
    CONSTRAINT FK_Customer_SalesRep FOREIGN KEY (SalesRepresentativeId) 
        REFERENCES SalesRepresentatives(RepresentativeId),
    CONSTRAINT FK_Customer_Company FOREIGN KEY (CompanyId) 
        REFERENCES Companies(CompanyId)
);

-- ÙÙ‡Ø§Ø±Ø³ Ù„ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡
CREATE INDEX IX_Customers_Code ON Customers(Code);
CREATE INDEX IX_Customers_Company ON Customers(CompanyId);
CREATE INDEX IX_Customers_Status ON Customers(Status) WHERE DeletedAt IS NULL;
CREATE INDEX IX_Customers_SalesRep ON Customers(SalesRepresentativeId);
```

```sql
-- Ø¬Ø¯ÙˆÙ„ Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
CREATE TABLE CustomerAddresses (
    AddressId UNIQUEIDENTIFIER PRIMARY KEY DEFAULT NEWID(),
    CustomerId UNIQUEIDENTIFIER NOT NULL,
    AddressType NVARCHAR(20) NOT NULL, -- Billing, Shipping, Correspondence
    AddressLine1 NVARCHAR(200) NOT NULL,
    AddressLine2 NVARCHAR(200),
    City NVARCHAR(100),
    State NVARCHAR(100),
    PostalCode NVARCHAR(20),
    CountryCode NVARCHAR(10),
    IsDefault BIT DEFAULT 0,
    
    CONSTRAINT FK_CustomerAddress_Customer FOREIGN KEY (CustomerId) 
        REFERENCES Customers(CustomerId) ON DELETE CASCADE
);
```

### 7.2 Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„ÙÙˆØ§ØªÙŠØ±

```sql
-- Ø¬Ø¯ÙˆÙ„ Ø±Ø£Ø³ Ø§Ù„ÙØ§ØªÙˆØ±Ø©
CREATE TABLE SalesInvoices (
    InvoiceId UNIQUEIDENTIFIER PRIMARY KEY DEFAULT NEWID(),
    InvoiceNumber NVARCHAR(50) NOT NULL UNIQUE,
    InvoiceDate DATE NOT NULL,
    DueDate DATE,
    
    -- Customer
    CustomerId UNIQUEIDENTIFIER NOT NULL,
    CustomerName NVARCHAR(200), -- cached
    BillingAddressId UNIQUEIDENTIFIER,
    ShippingAddressId UNIQUEIDENTIFIER,
    
    -- Document Relations
    QuotationId UNIQUEIDENTIFIER,
    SalesOrderId UNIQUEIDENTIFIER,
    DeliveryNoteId UNIQUEIDENTIFIER,
    
    -- Invoice Type
    InvoiceType NVARCHAR(20) NOT NULL, -- Cash, Credit
    IsCashInvoice BIT DEFAULT 0,
    
    -- Sales Info
    SalesRepresentativeId UNIQUEIDENTIFIER,
    TerritoryId UNIQUEIDENTIFIER,
    PriceListId UNIQUEIDENTIFIER,
    
    -- Totals
    Subtotal DECIMAL(18,2) NOT NULL,
    DiscountType NVARCHAR(20), -- Percentage, Amount
    DiscountValue DECIMAL(18,2),
    DiscountAmount DECIMAL(18,2) DEFAULT 0,
    TotalBeforeTax DECIMAL(18,2) NOT NULL,
    TaxAmount DECIMAL(18,2) DEFAULT 0,
    TotalAmount DECIMAL(18,2) NOT NULL,
    
    -- Payment
    PaidAmount DECIMAL(18,2) DEFAULT 0,
    RemainingAmount DECIMAL(18,2) NOT NULL,
    PaymentStatus NVARCHAR(20) DEFAULT 'Unpaid', -- Unpaid, PartiallyPaid, Paid
    
    -- Inventory
    AffectsInventory BIT DEFAULT 1,
    InventoryTransactionId UNIQUEIDENTIFIER,
    WarehouseId UNIQUEIDENTIFIER NOT NULL,
    
    -- Accounting
    AffectsAccounting BIT DEFAULT 1,
    JournalEntryId UNIQUEIDENTIFIER,
    AccountingDate DATE,
    FiscalYearId UNIQUEIDENTIFIER,
    
    -- Multi-Currency
    CurrencyCode NVARCHAR(10) NOT NULL DEFAULT 'SAR',
    ExchangeRate DECIMAL(18,6) DEFAULT 1,
    TotalInBaseCurrency DECIMAL(18,2),
    
    -- Multi-Company
    CompanyId UNIQUEIDENTIFIER NOT NULL,
    BranchId UNIQUEIDENTIFIER,
    
    -- Notes
    Notes NVARCHAR(MAX),
    InternalNotes NVARCHAR(MAX),
    
    -- Workflow
    Status NVARCHAR(20) DEFAULT 'Draft', -- Draft, Submitted, Approved, Rejected, Cancelled
    ApprovedBy UNIQUEIDENTIFIER,
    ApprovedAt DATETIME2,
    
    -- Audit
    CreatedAt DATETIME2 DEFAULT GETUTCDATE(),
    CreatedBy UNIQUEIDENTIFIER,
    ModifiedAt DATETIME2,
    ModifiedBy UNIQUEIDENTIFIER,
    DeletedAt DATETIME2,
    DeletedBy UNIQUEIDENTIFIER,
    
    CONSTRAINT FK_SalesInvoice_Customer FOREIGN KEY (CustomerId) 
        REFERENCES Customers(CustomerId),
    CONSTRAINT FK_SalesInvoice_Warehouse FOREIGN KEY (WarehouseId) 
        REFERENCES Warehouses(WarehouseId),
    CONSTRAINT FK_SalesInvoice_Company FOREIGN KEY (CompanyId) 
        REFERENCES Companies(CompanyId)
);

-- ÙÙ‡Ø§Ø±Ø³
CREATE INDEX IX_SalesInvoices_Number ON SalesInvoices(InvoiceNumber);
CREATE INDEX IX_SalesInvoices_Date ON SalesInvoices(InvoiceDate);
CREATE INDEX IX_SalesInvoices_Customer ON SalesInvoices(CustomerId);
CREATE INDEX IX_SalesInvoices_Status ON SalesInvoices(Status) WHERE DeletedAt IS NULL;
CREATE INDEX IX_SalesInvoices_Company ON SalesInvoices(CompanyId);
```

```sql
-- Ø¬Ø¯ÙˆÙ„ Ø¨Ù†ÙˆØ¯ Ø§Ù„ÙØ§ØªÙˆØ±Ø©
CREATE TABLE SalesInvoiceItems (
    ItemId UNIQUEIDENTIFIER PRIMARY KEY DEFAULT NEWID(),
    InvoiceId UNIQUEIDENTIFIER NOT NULL,
    LineNumber INT NOT NULL,
    
    -- Product
    ProductId UNIQUEIDENTIFIER NOT NULL,
    ProductCode NVARCHAR(50),
    ProductName NVARCHAR(200),
    Description NVARCHAR(500),
    
    -- Quantity & Unit
    Quantity DECIMAL(18,4) NOT NULL,
    UnitId UNIQUEIDENTIFIER NOT NULL,
    
    -- Pricing
    UnitPrice DECIMAL(18,2) NOT NULL,
    DiscountType NVARCHAR(20),
    DiscountValue DECIMAL(18,2),
    DiscountAmount DECIMAL(18,2) DEFAULT 0,
    PriceAfterDiscount DECIMAL(18,2) NOT NULL,
    
    -- Tax
    TaxRate DECIMAL(5,2) DEFAULT 0,
    TaxAmount DECIMAL(18,2) DEFAULT 0,
    
    -- Totals
    TotalBeforeTax DECIMAL(18,2) NOT NULL,
    TotalAmount DECIMAL(18,2) NOT NULL,
    
    -- Warehouse & Batch
    WarehouseId UNIQUEIDENTIFIER,
    BatchNumber NVARCHAR(50),
    SerialNumber NVARCHAR(50),
    ExpiryDate DATE,
    
    -- Cost (Ù„Ù„ØªÙƒÙ„ÙØ©)
    CostPrice DECIMAL(18,2),
    TotalCost DECIMAL(18,2),
    Profit DECIMAL(18,2),
    ProfitMargin DECIMAL(5,2),
    
    CONSTRAINT FK_SalesInvoiceItem_Invoice FOREIGN KEY (InvoiceId) 
        REFERENCES SalesInvoices(InvoiceId) ON DELETE CASCADE,
    CONSTRAINT FK_SalesInvoiceItem_Product FOREIGN KEY (ProductId) 
        REFERENCES Products(ProductId),
    CONSTRAINT FK_SalesInvoiceItem_Unit FOREIGN KEY (UnitId) 
        REFERENCES Units(UnitId)
);

-- ÙÙ‡Ø±Ø³
CREATE INDEX IX_SalesInvoiceItems_Invoice ON SalesInvoiceItems(InvoiceId);
CREATE INDEX IX_SalesInvoiceItems_Product ON SalesInvoiceItems(ProductId);
```

### 7.3 Views & Functions

```sql
-- View: ÙƒØ´Ù Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¹Ù…ÙŠÙ„
CREATE VIEW vw_CustomerStatement AS
SELECT 
    c.CustomerId,
    c.Code AS CustomerCode,
    c.NameAr AS CustomerName,
    i.InvoiceDate AS TransactionDate,
    i.InvoiceNumber AS Reference,
    'Invoice' AS TransactionType,
    i.TotalAmount AS Debit,
    0 AS Credit,
    i.RemainingAmount AS Balance,
    i.DueDate,
    CASE 
        WHEN i.DueDate < GETDATE() AND i.RemainingAmount > 0 
        THEN 'Overdue' 
        ELSE 'Current' 
    END AS Status
FROM Customers c
INNER JOIN SalesInvoices i ON c.CustomerId = i.CustomerId
WHERE i.DeletedAt IS NULL
UNION ALL
SELECT 
    c.CustomerId,
    c.Code,
    c.NameAr,
    p.PaymentDate,
    p.PaymentNumber,
    'Payment',
    0,
    p.Amount,
    0,
    NULL,
    'Paid'
FROM Customers c
INNER JOIN Payments p ON c.CustomerId = p.CustomerId
WHERE p.DeletedAt IS NULL;
```

```sql
-- Function: Ø­Ø³Ø§Ø¨ Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ø­Ø§Ù„ÙŠ Ù„Ù„Ø¹Ù…ÙŠÙ„
CREATE FUNCTION fn_GetCustomerBalance(@CustomerId UNIQUEIDENTIFIER)
RETURNS DECIMAL(18,2)
AS
BEGIN
    DECLARE @Balance DECIMAL(18,2);
    
    SELECT @Balance = ISNULL(SUM(TotalAmount - PaidAmount), 0)
    FROM SalesInvoices
    WHERE CustomerId = @CustomerId
      AND Status = 'Approved'
      AND DeletedAt IS NULL;
    
    RETURN @Balance;
END;
```

```sql
-- Stored Procedure: Ø¥Ù†Ø´Ø§Ø¡ Ù‚ÙŠØ¯ Ù…Ø­Ø§Ø³Ø¨ÙŠ Ù„Ù„ÙØ§ØªÙˆØ±Ø©
CREATE PROCEDURE sp_CreateInvoiceJournalEntry
    @InvoiceId UNIQUEIDENTIFIER
AS
BEGIN
    SET NOCOUNT ON;
    
    DECLARE @JournalEntryId UNIQUEIDENTIFIER = NEWID();
    DECLARE @InvoiceNumber NVARCHAR(50);
    DECLARE @CustomerId UNIQUEIDENTIFIER;
    DECLARE @TotalAmount DECIMAL(18,2);
    DECLARE @TotalBeforeTax DECIMAL(18,2);
    DECLARE @TaxAmount DECIMAL(18,2);
    
    -- Get invoice data
    SELECT 
        @InvoiceNumber = InvoiceNumber,
        @CustomerId = CustomerId,
        @TotalAmount = TotalAmount,
        @TotalBeforeTax = TotalBeforeTax,
        @TaxAmount = TaxAmount
    FROM SalesInvoices
    WHERE InvoiceId = @InvoiceId;
    
    -- Create journal entry header
    INSERT INTO JournalEntries (JournalEntryId, EntryDate, Description, Reference)
    VALUES (@JournalEntryId, GETDATE(), N'ÙØ§ØªÙˆØ±Ø© Ø¨ÙŠØ¹ Ø±Ù‚Ù… ' + @InvoiceNumber, @InvoiceNumber);
    
    -- Debit: Accounts Receivable (Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡)
    INSERT INTO JournalEntryLines (JournalEntryId, AccountId, Debit, Credit)
    SELECT @JournalEntryId, AccountId, @TotalAmount, 0
    FROM Customers c
    INNER JOIN Accounts a ON a.Code = 'AR-' + c.Code
    WHERE c.CustomerId = @CustomerId;
    
    -- Credit: Sales Revenue (Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª)
    INSERT INTO JournalEntryLines (JournalEntryId, AccountId, Debit, Credit)
    VALUES (@JournalEntryId, 
            (SELECT AccountId FROM Accounts WHERE Code = 'SALES'), 
            0, @TotalBeforeTax);
    
    -- Credit: VAT Payable (Ø¶Ø±ÙŠØ¨Ø© Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø¶Ø§ÙØ©)
    IF @TaxAmount > 0
    BEGIN
        INSERT INTO JournalEntryLines (JournalEntryId, AccountId, Debit, Credit)
        VALUES (@JournalEntryId, 
                (SELECT AccountId FROM Accounts WHERE Code = 'VAT-PAYABLE'), 
                0, @TaxAmount);
    END
    
    -- Update invoice with journal entry ID
    UPDATE SalesInvoices
    SET JournalEntryId = @JournalEntryId
    WHERE InvoiceId = @InvoiceId;
END;
```

---

<a name="apis"></a>
## ğŸŒ 8. APIs Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©

### 8.1 Customer APIs

```typescript
// GET /api/customers - Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
interface GetCustomersRequest {
  page: number;
  pageSize: number;
  search?: string;
  type?: 'Individual' | 'Company';
  category?: string;
  status?: 'Active' | 'Inactive' | 'Blocked';
  salesRepId?: string;
  companyId?: string;
  branchId?: string;
  sortBy?: string;
  sortOrder?: 'asc' | 'desc';
}

interface GetCustomersResponse {
  items: Customer[];
  totalCount: number;
  page: number;
  pageSize: number;
}

// GET /api/customers/{id} - ØªÙØ§ØµÙŠÙ„ Ø¹Ù…ÙŠÙ„
interface GetCustomerResponse {
  customer: Customer;
  addresses: Address[];
  currentBalance: number;
  creditLimit: number;
  availableCredit: number;
  overdueAmount: number;
  lastInvoiceDate: Date;
  totalSales: number;
}

// POST /api/customers - Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù…ÙŠÙ„ Ø¬Ø¯ÙŠØ¯
interface CreateCustomerRequest {
  code?: string; // Ø§Ø®ØªÙŠØ§Ø±ÙŠ Ù„Ù„Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
  nameAr: string;
  nameEn?: string;
  type: 'Individual' | 'Company';
  categoryId: string;
  phone?: string;
  mobile?: string;
  email?: string;
  // ... Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø­Ù‚ÙˆÙ„
}

// PUT /api/customers/{id} - ØªØ­Ø¯ÙŠØ« Ø¹Ù…ÙŠÙ„
interface UpdateCustomerRequest {
  nameAr?: string;
  nameEn?: string;
  phone?: string;
  // ... Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ ØªØ­Ø¯ÙŠØ«Ù‡Ø§
}

// DELETE /api/customers/{id} - Ø­Ø°Ù Ø¹Ù…ÙŠÙ„ (soft delete)

// GET /api/customers/{id}/statement - ÙƒØ´Ù Ø­Ø³Ø§Ø¨
interface CustomerStatementRequest {
  customerId: string;
  fromDate: Date;
  toDate: Date;
  includePayments: boolean;
}

// GET /api/customers/{id}/invoices - ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ø¹Ù…ÙŠÙ„
interface CustomerInvoicesRequest {
  customerId: string;
  status?: string;
  fromDate?: Date;
  toDate?: Date;
}
```

### 8.2 Invoice APIs

```typescript
// GET /api/sales/invoices - Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ÙÙˆØ§ØªÙŠØ±
interface GetInvoicesRequest {
  page: number;
  pageSize: number;
  search?: string;
  customerId?: string;
  status?: 'Draft' | 'Submitted' | 'Approved';
  invoiceType?: 'Cash' | 'Credit';
  paymentStatus?: 'Unpaid' | 'PartiallyPaid' | 'Paid';
  fromDate?: Date;
  toDate?: Date;
  companyId?: string;
  branchId?: string;
}

// GET /api/sales/invoices/{id} - ØªÙØ§ØµÙŠÙ„ ÙØ§ØªÙˆØ±Ø©
interface GetInvoiceResponse {
  invoice: SalesInvoice;
  items: SalesInvoiceItem[];
  payments: Payment[];
  journalEntry?: JournalEntry;
  inventoryTransactions: InventoryTransaction[];
}

// POST /api/sales/invoices - Ø¥Ù†Ø´Ø§Ø¡ ÙØ§ØªÙˆØ±Ø© Ø¬Ø¯ÙŠØ¯Ø©
interface CreateInvoiceRequest {
  customerId: string;
  invoiceDate: Date;
  dueDate?: Date;
  invoiceType: 'Cash' | 'Credit';
  warehouseId: string;
  items: {
    productId: string;
    quantity: number;
    unitId: string;
    unitPrice: number;
    discountType?: 'Percentage' | 'Amount';
    discountValue?: number;
    taxRate?: number;
  }[];
  discountType?: 'Percentage' | 'Amount';
  discountValue?: number;
  notes?: string;
}

// PUT /api/sales/invoices/{id} - ØªØ­Ø¯ÙŠØ« ÙØ§ØªÙˆØ±Ø©
interface UpdateInvoiceRequest {
  // Ù†ÙØ³ CreateInvoiceRequest
}

// POST /api/sales/invoices/{id}/submit - Ø¥Ø±Ø³Ø§Ù„ Ù„Ù„Ø§Ø¹ØªÙ…Ø§Ø¯
// POST /api/sales/invoices/{id}/approve - Ø§Ø¹ØªÙ…Ø§Ø¯ Ø§Ù„ÙØ§ØªÙˆØ±Ø©
// POST /api/sales/invoices/{id}/reject - Ø±ÙØ¶ Ø§Ù„ÙØ§ØªÙˆØ±Ø©
interface RejectInvoiceRequest {
  reason: string;
}

// POST /api/sales/invoices/{id}/cancel - Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ÙØ§ØªÙˆØ±Ø©
interface CancelInvoiceRequest {
  reason: string;
}

// DELETE /api/sales/invoices/{id} - Ø­Ø°Ù ÙØ§ØªÙˆØ±Ø© (soft delete)

// GET /api/sales/invoices/{id}/print - Ø·Ø¨Ø§Ø¹Ø© ÙØ§ØªÙˆØ±Ø©
interface PrintInvoiceRequest {
  invoiceId: string;
  templateId?: string;
  language?: 'ar' | 'en';
  format?: 'pdf' | 'html';
}

// POST /api/sales/invoices/{id}/send-email - Ø¥Ø±Ø³Ø§Ù„ Ø¨Ø§Ù„Ø¨Ø±ÙŠØ¯
interface SendInvoiceEmailRequest {
  invoiceId: string;
  to: string[];
  cc?: string[];
  subject?: string;
  message?: string;
}
```

### 8.3 Quotation APIs

```typescript
// POST /api/sales/quotations
// GET /api/sales/quotations
// GET /api/sales/quotations/{id}
// PUT /api/sales/quotations/{id}
// DELETE /api/sales/quotations/{id}

// POST /api/sales/quotations/{id}/send - Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¹Ø±Ø¶ Ù„Ù„Ø¹Ù…ÙŠÙ„
// POST /api/sales/quotations/{id}/accept - Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ø¹Ø±Ø¶
// POST /api/sales/quotations/{id}/reject - Ø±ÙØ¶ Ø§Ù„Ø¹Ø±Ø¶
// POST /api/sales/quotations/{id}/convert-to-order - ØªØ­ÙˆÙŠÙ„ Ù„Ø£Ù…Ø± Ø¨ÙŠØ¹
```

### 8.4 Payment APIs

```typescript
// POST /api/sales/payments - ØªØ³Ø¬ÙŠÙ„ Ø¯ÙØ¹Ø©
interface CreatePaymentRequest {
  customerId: string;
  paymentDate: Date;
  amount: number;
  paymentMethod: 'Cash' | 'BankTransfer' | 'Cheque' | 'CreditCard';
  reference?: string;
  invoices: {
    invoiceId: string;
    amount: number;
  }[];
  notes?: string;
}

// GET /api/sales/payments - Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª
// GET /api/sales/payments/{id} - ØªÙØ§ØµÙŠÙ„ Ø¯ÙØ¹Ø©
```

### 8.5 POS APIs

```typescript
// POST /api/pos/sessions - ÙØªØ­ Ø¬Ù„Ø³Ø©
interface OpenPOSSessionRequest {
  posProfileId: string;
  openingCash: number;
}

// POST /api/pos/sessions/{id}/close - Ø¥ØºÙ„Ø§Ù‚ Ø¬Ù„Ø³Ø©
interface ClosePOSSessionRequest {
  sessionId: string;
  closingCash: number;
  closingNotes?: string;
}

// POST /api/pos/invoices - Ø¥Ù†Ø´Ø§Ø¡ ÙØ§ØªÙˆØ±Ø© POS
interface CreatePOSInvoiceRequest {
  sessionId: string;
  items: POSItem[];
  paymentMethod: string;
  cashReceived?: number;
  changeAmount?: number;
}

// GET /api/pos/products/search - Ø¨Ø­Ø« Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª (Ù„Ù„Ø¨Ø§Ø±ÙƒÙˆØ¯)
interface SearchPOSProductRequest {
  query: string; // barcode or name
  warehouseId: string;
}
```

---

<a name="examples"></a>
## ğŸ’¡ 9. Ø£Ù…Ø«Ù„Ø© Ø¹Ù…Ù„ÙŠØ©

### 9.1 Ù…Ø«Ø§Ù„: Ø¯ÙˆØ±Ø© Ø¨ÙŠØ¹ ÙƒØ§Ù…Ù„Ø©

#### Ø§Ù„Ø®Ø·ÙˆØ© 1: Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ø±Ø¶ Ø³Ø¹Ø±
```http
POST /api/sales/quotations
Content-Type: application/json

{
  "customerId": "cust-001",
  "quotationDate": "2025-01-15",
  "validUntil": "2025-02-15",
  "items": [
    {
      "productId": "prod-001",
      "quantity": 10,
      "unitId": "unit-pcs",
      "unitPrice": 100
    }
  ],
  "discountType": "Percentage",
  "discountValue": 10,
  "termsAndConditions": "Ø§Ù„Ø¯ÙØ¹ Ø®Ù„Ø§Ù„ 30 ÙŠÙˆÙ…"
}

Response: {
  "quotationId": "quot-001",
  "quotationNumber": "QT-2025-0001",
  "status": "Draft",
  "totalAmount": 1035
}
```

#### Ø§Ù„Ø®Ø·ÙˆØ© 2: Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¹Ø±Ø¶ Ù„Ù„Ø¹Ù…ÙŠÙ„
```http
POST /api/sales/quotations/quot-001/send
Content-Type: application/json

{
  "to": ["customer@example.com"],
  "subject": "Ø¹Ø±Ø¶ Ø³Ø¹Ø± Ø±Ù‚Ù… QT-2025-0001",
  "message": "Ù†Ø±ÙÙ‚ Ù„ÙƒÙ… Ø¹Ø±Ø¶ Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ù…Ø·Ù„ÙˆØ¨..."
}
```

#### Ø§Ù„Ø®Ø·ÙˆØ© 3: Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ø¹Ø±Ø¶ ÙˆØªØ­ÙˆÙŠÙ„Ù‡ Ù„Ø£Ù…Ø± Ø¨ÙŠØ¹
```http
POST /api/sales/quotations/quot-001/accept

Response: {
  "status": "Accepted"
}

POST /api/sales/quotations/quot-001/convert-to-order

Response: {
  "salesOrderId": "so-001",
  "orderNumber": "SO-2025-0001"
}
```

#### Ø§Ù„Ø®Ø·ÙˆØ© 4: Ø¥Ù†Ø´Ø§Ø¡ Ø¥Ø°Ù† ØªØ³Ù„ÙŠÙ…
```http
POST /api/inventory/delivery-notes
Content-Type: application/json

{
  "salesOrderId": "so-001",
  "deliveryDate": "2025-01-20",
  "warehouseId": "wh-001",
  "items": [
    {
      "productId": "prod-001",
      "quantity": 10,
      "batchNumber": "BATCH-001"
    }
  ]
}

Response: {
  "deliveryNoteId": "dn-001",
  "deliveryNoteNumber": "DN-2025-0001"
}
```

#### Ø§Ù„Ø®Ø·ÙˆØ© 5: Ø¥Ù†Ø´Ø§Ø¡ ÙØ§ØªÙˆØ±Ø© Ø¨ÙŠØ¹
```http
POST /api/sales/invoices
Content-Type: application/json

{
  "customerId": "cust-001",
  "invoiceDate": "2025-01-20",
  "dueDate": "2025-02-20",
  "invoiceType": "Credit",
  "salesOrderId": "so-001",
  "deliveryNoteId": "dn-001",
  "warehouseId": "wh-001",
  "items": [
    {
      "productId": "prod-001",
      "quantity": 10,
      "unitId": "unit-pcs",
      "unitPrice": 100,
      "discountType": "Percentage",
      "discountValue": 10,
      "taxRate": 15
    }
  ]
}

Response: {
  "invoiceId": "inv-001",
  "invoiceNumber": "INV-2025-0001",
  "totalAmount": 1035,
  "status": "Draft"
}
```

#### Ø§Ù„Ø®Ø·ÙˆØ© 6: Ø§Ø¹ØªÙ…Ø§Ø¯ Ø§Ù„ÙØ§ØªÙˆØ±Ø©
```http
POST /api/sales/invoices/inv-001/approve

Response: {
  "status": "Approved",
  "journalEntryId": "je-001",
  "inventoryTransactionId": "it-001"
}
```

#### Ø§Ù„Ø®Ø·ÙˆØ© 7: ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯ÙØ¹
```http
POST /api/sales/payments
Content-Type: application/json

{
  "customerId": "cust-001",
  "paymentDate": "2025-02-20",
  "amount": 1035,
  "paymentMethod": "BankTransfer",
  "reference": "TRX-123456",
  "invoices": [
    {
      "invoiceId": "inv-001",
      "amount": 1035
    }
  ]
}

Response: {
  "paymentId": "pay-001",
  "paymentNumber": "PAY-2025-0001",
  "status": "Posted"
}
```

### 9.2 Ù…Ø«Ø§Ù„: ÙØ§ØªÙˆØ±Ø© POS

```http
# 1. ÙØªØ­ Ø¬Ù„Ø³Ø©
POST /api/pos/sessions
{
  "posProfileId": "pos-profile-001",
  "openingCash": 1000
}

Response: { "sessionId": "session-001" }

# 2. Ø¥Ù†Ø´Ø§Ø¡ ÙØ§ØªÙˆØ±Ø©
POST /api/pos/invoices
{
  "sessionId": "session-001",
  "items": [
    {
      "productId": "prod-001",
      "quantity": 2,
      "unitPrice": 100
    },
    {
      "productId": "prod-002",
      "quantity": 1,
      "unitPrice": 150
    }
  ],
  "paymentMethod": "Cash",
  "cashReceived": 400,
  "changeAmount": 50
}

Response: {
  "invoiceId": "inv-pos-001",
  "invoiceNumber": "POS-001",
  "totalAmount": 350,
  "changeAmount": 50
}

# 3. Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ø¬Ù„Ø³Ø©
POST /api/pos/sessions/session-001/close
{
  "closingCash": 2350,
  "closingNotes": "Ø¬Ù„Ø³Ø© Ø·Ø¨ÙŠØ¹ÙŠØ©"
}
```

---

## ğŸ“š Ù…ØµØ§Ø¯Ø± Ø¥Ø¶Ø§ÙÙŠØ©

### Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
1. **ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª**
   - ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„ÙŠÙˆÙ…ÙŠ
   - ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„Ø´Ù‡Ø±ÙŠ
   - ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ø­Ø³Ø¨ Ø§Ù„Ù…Ù†ØªØ¬
   - ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ø­Ø³Ø¨ Ø§Ù„Ø¹Ù…ÙŠÙ„
   - ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ø­Ø³Ø¨ Ø§Ù„Ù…Ù†Ø¯ÙˆØ¨
   - ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ø­Ø³Ø¨ Ø§Ù„Ù…Ù†Ø·Ù‚Ø©

2. **ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡**
   - ÙƒØ´Ù Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¹Ù…ÙŠÙ„
   - Ø£Ø¹Ù…Ø§Ø± Ø§Ù„Ø¯ÙŠÙˆÙ† (Aging Report)
   - Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„Ø£ÙƒØ«Ø± Ù…Ø¨ÙŠØ¹Ø§Øª
   - Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„Ù…ØªØ£Ø®Ø±ÙŠÙ† ÙÙŠ Ø§Ù„Ø³Ø¯Ø§Ø¯

3. **ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø±Ø¨Ø­ÙŠØ©**
   - Ù‡Ø§Ù…Ø´ Ø§Ù„Ø±Ø¨Ø­ Ø­Ø³Ø¨ Ø§Ù„ÙØ§ØªÙˆØ±Ø©
   - Ù‡Ø§Ù…Ø´ Ø§Ù„Ø±Ø¨Ø­ Ø­Ø³Ø¨ Ø§Ù„Ù…Ù†ØªØ¬
   - Ù‡Ø§Ù…Ø´ Ø§Ù„Ø±Ø¨Ø­ Ø­Ø³Ø¨ Ø§Ù„Ø¹Ù…ÙŠÙ„

4. **ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø£Ø¯Ø§Ø¡**
   - Ø£Ø¯Ø§Ø¡ Ø§Ù„Ù…Ù†Ø§Ø¯ÙŠØ¨
   - ØªØ­Ù‚ÙŠÙ‚ Ø§Ù„Ø£Ù‡Ø¯Ø§Ù
   - Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªØ­ÙˆÙŠÙ„ (Quotation â†’ Order â†’ Invoice)

### Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
- âœ‰ï¸ Ø¥Ø´Ø¹Ø§Ø± Ù„Ù„Ø¹Ù…ÙŠÙ„ Ø¹Ù†Ø¯ Ø¥Ù†Ø´Ø§Ø¡ ÙØ§ØªÙˆØ±Ø©
- âœ‰ï¸ ØªØ°ÙƒÙŠØ± Ø¨Ù…ÙˆØ¹Ø¯ Ø§Ù„Ø§Ø³ØªØ­Ù‚Ø§Ù‚
- âœ‰ï¸ Ø¥Ø´Ø¹Ø§Ø± Ø¨Ø§Ù„ØªØ£Ø®ÙŠØ± ÙÙŠ Ø§Ù„Ø³Ø¯Ø§Ø¯
- âœ‰ï¸ Ø¥Ø´Ø¹Ø§Ø± Ù„Ù„Ù…Ø¯ÙŠØ± Ø¹Ù†Ø¯ ØªØ¬Ø§ÙˆØ² Ø§Ù„Ø­Ø¯ Ø§Ù„Ø§Ø¦ØªÙ…Ø§Ù†ÙŠ
- âœ‰ï¸ Ø¥Ø´Ø¹Ø§Ø± Ù„Ù„Ù…Ø®Ø²Ù† Ø¹Ù†Ø¯ Ø£Ù…Ø± Ø¨ÙŠØ¹ Ø¬Ø¯ÙŠØ¯

---

**ØªÙ… Ø¥Ø¹Ø¯Ø§Ø¯ Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³ØªÙ†Ø¯ Ø¨ÙˆØ§Ø³Ø·Ø©:** Claude Sonnet 4.5  
**Ø§Ù„ØªØ§Ø±ÙŠØ®:** 2025-01-02  
**Ø§Ù„Ù†Ø³Ø®Ø©:** 1.0  
**Ø§Ù„Ø­Ø§Ù„Ø©:** âœ… Ù…ÙƒØªÙ…Ù„

**Ø§Ù„Ù…Ù„Ù Ø§Ù„ØªØ§Ù„ÙŠ:** Ù…Ø¯ÙŠÙˆÙ„ Ø§Ù„Ù…Ø®Ø²ÙˆÙ† (Inventory Module)
